---
can_networks:
  ibooster_vehicle_can:
    bitrate: 500000
    received_frames:
      - name: rod_status
        id: 0x38E
        signals:
          - name: checksum # lut_checksum(dat, 8, crc8_lut_1d);
            kind: integer
            value_start: 0
            value_length: 8
          - name: counter
            kind: integer
            value_start: 8
            value_length: 8
          - name: output_rod_target
            unit: mm
            value_start: 32
            value_length: 10
      - name: brake_status
        id: 0x38F
        signals:
          - name: checksum # lut_checksum(dat, 8, crc8_lut_1d);
            kind: integer
            value_start: 0
            value_length: 8
          - name: counter
            kind: integer
            value_start: 8
            value_length: 8
          - name: ibooster_status
            kind: enum
            values: ?
          - name: driver_brake_applied
            kind: enum
            values: ?
      - name: ibooster_status
        id: 0x39D
        signals:
          - name: status
            kind: enum
            value_start: 9
            value_length: 3
            values:
              - 0x0: 'off'
              - 0x1: init
              - 0x2: failure
              - 0x3: diagnostic
              - 0x4: active_good_check
              - 0x5: ready
              - 0x6: actuation
          - name: driver_brake_apply
            kind: enum
            value_start: 22
            value_length: 2
            values:
              - 0x0: not_init_or_off
              - 0x1: brakes_not_applied
              - 0x2: driver_applying_brake
              - 0x3: fault
  ibooster_yaw_can:
    bitrate: 500000
    received_frames:
      # - name: ibooster_alert_matrix -> Multiplexed frame containing 175 flags. Not supported in cantastic yet.
      #   id: 0x35D
      # - name: ibooster_info -> uild and bootloader info, not really interesting
      #   id: 0x32D
    emitted_frames:
      - name: vehicle_status
        id: 0x38B
        frequency: 10
        signals:
          - name: checksum # lut_checksum(dat, 8, crc8_lut_1d);
            kind: integer
            value_start: 0
            value_length: 8
          - name: counter # can2_count_out_2 & COUNTER_CYCLE;
            kind: integer
            value_start: 8
            value_length: 8
          - name: P_EST_MAX?
            kind: static
            value: 0x00
            value_start: 16
            value_length: 8
          - name: ? # P_EST_MAX_QF | (ESP_vehicleSpeed & 0x3FU);
            value_start: 24
            value_length: 8
          - name: ? # VEHICLE_QF | (IGNITION_ON << 3U);
            value_start: 32
            value_length: 8
          - name: filler1
            kind: static
            value: 0x00
            value_start: 40
            value_length: 16
      - name: brake_request
        id: 0x38C
        frequency: 10
        signals:
          - name: checksum # lut_checksum(dat, 8, crc8_lut_1d);
            kind: integer
            value_start: 0
            value_length: 8
          - name: counter # can2_count_out_1 & COUNTER_CYCLE;
            kind: integer
            value_start: 8
            value_length: 8
          - name: pedal_limit_external? # p_limit_external & 0xFF;
            value_start: 16
            value_length: 9
          - name: filler1
            kind: static
            value: 0x00
            value_start: 25
            value_length: 3
          - name: q_target_ext?
            value_start: 28
            value_length: 16
          - name: q_target_ext_qf
            value_start: 44
            value_length: 4
          - name: filler2
            kind: static
            value: 0x00
            value_start: 48
            value_length: 16
      - name: vehicle_alive
        frequency: 10
        signals:
          - name: checksum # lut_checksum(dat, 8, crc8_lut_1d);
            kind: integer
            value_start: 0
            value_length: 8
          - name: counter # can2_count_out_1 & COUNTER_CYCLE;
            kind: integer
            value_start: 8
            value_length: 8
          - name: filler1
            kind: static
            value: 0x00
            value_start: 16
            value_length: 32
          - name: filler2
            kind: static
            value: 0x20
            value_start: 48
            value_length: 8
          - name: filler3
            kind: static
            value: 0x00
            value_start: 56
            value_length: 8
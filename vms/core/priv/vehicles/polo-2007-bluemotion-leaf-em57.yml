---
can_networks:
  ovcs:
    bitrate: 500000
    emitted_frames:
      - name: contactors_status_request
        id: 0x100
        frequency: 20
        signals:
          - name: main_negative_contactor_enabled
            kind: enum
            value_start: 0
            value_length: 8
            mapping:
              0x00: false
              0x01: true
          - name: main_positive_contactor_enabled
            kind: enum
            value_start: 8
            value_length: 8
            mapping:
              0x00: false
              0x01: true
          - name: precharge_contactor_enabled
            kind: enum
            value_start: 16
            value_length: 8
            mapping:
              0x00: false
              0x01: true
      - name: vms_relays_status_request
        id: 0x110
        frequency: 20
        signals:
          - name: inverter_relay_enabled
            kind: enum
            value_start: 0
            value_length: 8
            mapping:
              0x00: false
              0x01: true
      - name: gear_status
        id: 0x600
        frequency: 20
        signals:
          - name: selected_gear
            kind: enum
            value_start: 0
            value_length: 8
            mapping:
              0x00: drive
              0x01: neutral
              0x02: reverse
              0x03: parking
      - name: vms_status
        id: 0x1A0
        frequency: 100
        signals:
          - name: status
            kind: enum
            value_start: 0
            value_length: 8
            mapping:
              0x00: ok
              0xFF: failure
          - name: ready_to_drive
            kind: enum
            value_start: 8
            value_length: 8
            mapping:
              0x00: false
              0x01: true
          - name: counter
            kind: integer
            value_start: 16
            value_length: 8
    received_frames:
      - name: contactors_status
        id: 0x101
        frequency: 10
        signals:
          - name: main_negative_contactor_enabled
            kind: enum
            value_start: 0
            value_length: 8
            mapping:
              0x00: false
              0x01: true
          - name: main_positive_contactor_enabled
            kind: enum
            value_start: 8
            value_length: 8
            mapping:
              0x00: false
              0x01: true
          - name: precharge_contactor_enabled
            kind: enum
            value_start: 16
            value_length: 8
            mapping:
              0x00: false
              0x01: true
      - name: vms_relays_status
        id: 0x111
        frequency: 10
        signals:
          - name: inverter_relay_enabled
            kind: enum
            value_start: 0
            value_length: 8
            mapping:
              0x00: false
              0x01: true
      - name: car_controls_status
        id: 0x200
        frequency: 10
        signals:
          - name: raw_max_throttle
            kind: integer
            value_start: 0
            value_length: 16
          - name: raw_throttle_a
            kind: integer
            value_start: 16
            value_length: 16
          - name: raw_throttle_b
            kind: integer
            value_start: 32
            value_length: 16
          - name: requested_gear
            kind: enum
            value_start: 48
            value_length: 8
            mapping:
              0x00: drive
              0x01: neutral
              0x02: reverse
              0x03: parking
      - name: infotainment_status
        id: 0x201
        frequency: 20
        signals:
          - name: requested_gear
            kind: enum
            value_start: 0
            value_length: 8
            mapping:
              0x00: drive
              0x01: neutral
              0x02: reverse
              0x03: parking
  leaf_drive:
    bitrate: 500000
    emitted_frames:
      - name: vms_alive
        id: 0x50B
        frequency: 100
        signals:
          - name: unknown
            kind: static
            value_start: 0
            value_length: 56
            value: 0x000006C0000000
      - name: vms_torque_request
        id: 0x1D4
        frequency: 10
        signals:
          - name: prefix
            kind: static
            value_start: 0
            value_length: 16
            value: 0x6E6E
          - name: requested_torque
            sign: signed
            endianness: big
            value_start: 16
            value_length: 12
            scale: "0.25"
            unit: N/m
          - name: filler
            kind: static
            value_start: 28
            value_length: 4
            value: 0x00
          - name: counter
            kind: integer
            value_start: 32
            value_length: 8
          - name: suffix
            kind: static
            value_start: 40
            value_length: 16
            value: 0x4401
          - name: crc
            value_start: 56
            value_length: 8
      - name: vms_status
        id: 0x11A
        frequency: 10
        signals:
          - name: gear
            kind: enum
            value_start: 0
            value_length: 8
            mapping:
              0x00: parking
              0x02: reverse
              0x03: neutral
              0x04: drive
          - name: filler1
            kind: static
            value_start: 8
            value_length: 8
            value: 0x40
          - name: steering_wheel_butoon
            kind: static
            value_start: 16
            value_length: 8
            value: 0x0
          - name: heartbeat
            value_start: 24
            value_length: 8
            kind: integer
            mapping:
              0x55: 0
              0xAA: 1
          - name: filler2
            kind: static
            value_start: 32
            value_length: 16
            value: 0xC000
          - name: counter
            kind: integer
            value_start: 48
            value_length: 8
          - name: crc
            kind: integer
            value_start: 56
            value_length: 8
      - name: charger_command
        id: 0x1DC
        frequency: 10
        signals:
          - name: discharge_power_limit
            endianness: big
            value_start: 0
            value_length: 10
            scale: "0.25"
            unit: kW
          - name: charge_power_limit
            endianness: big
            value_start: 10
            value_length: 10
            scale: "0.25"
            unit: kW
          - name: max_power_for_charger
            endianness: big
            value_start: 20
            value_length: 10
            scale: "0.1"
            offset: -10
            unit: kW
          - name: power_status_filler
            kind: static
            value_start: 30
            value_length: 2
            value: 0x0001
          - name: max_uprate_filler
            kind: static
            value_start: 32
            value_length: 3
            value: 0x0001
          - name: code_condition_filler
            kind: static
            value_start: 35
            value_length: 3
            value: 0x0001
          - name: code1_filler
            kind: static
            value_start: 38
            value_length: 8
            value: 0x0001
          - name: code2_filler
            kind: static
            value_start: 46
            value_length: 8
            value: 0x0001
          - name: counter
            kind: integer
            value_start: 54
            value_length: 2
          - name: crc
            kind: integer
            value_start: 56
            value_length: 8
    received_frames:
      - name: inverter_status
        id: 0x1DA
        frequency: 10
        signals:
          - name: inverter_output_voltage
            kind: integer
            value_start: 0
            value_length: 8
            scale: "2"
            unit: V
          - name: em57_effective_torque
            endianness: big
            sign: signed
            value_start: 21
            value_length: 11
            scale: "0.5"
            unit: N/m
          - name: em57_rotations_per_minute
            kind: integer
            endianness: big
            sign: signed
            value_start: 32
            value_length: 16
            unit: rpm
      - name: inverter_temperatures
        id: 0x55A
        frequency: 10
        signals:
          - name: inverter_communication_board_temperature
            kind: integer
            value_start: 8
            value_length: 8
            unit: C
          - name: insulated_gate_bipolar_transistor_temperature
            kind: integer
            value_start: 16
            value_length: 8
            unit: C
          - name: insulated_gate_bipolar_transistor_board_temperature
            kind: integer
            value_start: 24
            value_length: 8
            unit: C
          - name: motor_temperature
            kind: integer
            value_start: 32
            value_length: 8
            unit: C
      - name: charger_status
        id: 0x1DA
        frequency: 10
        signals:
          - name: charge_power
            endianness: big
            value_start: 7
            value_length: 9
            scale: "0.1"
            unit: kW
          - name: ac_voltage
            kind: enum
            value_start: 27
            value_length: 2
            mapping:
              0x00: 0
              0x01: 110
              0x02: 240
              0x03: error
            unit: V
          - name: charging_state
            kind: enum
            value_start: 41
            value_length: 6
            mapping:
              0x01: iddle_or_quick_charge
              0x02: finished
              0x04: charging_or_interrupted
              0x07: iddle
              0x0C: plugged_in_on_waiting_timer
          - name: maximum_charge_power
            endianness: big
            scale: "0.1"
            unit: kW
            value_start: 47
            value_length: 9
  polo_drive:
    bitrate: 500000
    emitted_frames:
      - name: engine_status
        id: 0x280
        frequency: 100
        signals:
          - name: filler1
            kind: static
            value_start: 0
            value_length: 16
            value: 0x0000
          - name: engine_rotations_per_minute
            kind: integer
            unit: rpm
            value_start: 16
            value_length: 16
            scale: "0.25"
          - name: filler2
            kind: static
            value_start: 32
            value_length: 32
            value: 0x00000000
    received_frames:
      - name: car_status
        id: 0x470
        signals:
          - name: front_left_door_open
            kind: enum
            value_start: 15
            value_length: 1
            mapping:
              0x00: false
              0x01: true
          - name: front_right_door_open
            kind: enum
            value_start: 14
            value_length: 1
            mapping:
              0x00: false
              0x01: true
          - name: rear_left_door_open
            kind: enum
            value_start: 13
            value_length: 1
            mapping:
              0x00: false
              0x01: true
          - name: rear_right_door_open
            kind: enum
            value_start: 12
            value_length: 1
            mapping:
              0x00: false
              0x01: true
          - name: trunk_door_open
            kind: enum
            value_start: 10
            value_length: 1
            mapping:
              0x00: false
              0x01: true
          - name: beam_active
            kind: enum
            value_start: 16
            value_length: 8
            mapping:
              0x00: false
              0x64: true
          - name: warning_lights_active
            kind: enum
            value_start: 0
            value_length: 8
            mapping: # 0:False, 8:WarningActiveOff, 11:WarningActiveOn, 1:leftActive, 2:rightActive
              0x00: false
              0x01: false
              0x02: false
              0x08: true
              0x0B: true
      - name: airbags_status
        id: 0x50
        signals:
          - name: in_car_airbag_system_online
            kind: enum
            value_start: 0
            value_length: 8
            mapping:
              0x00: true
              0x02: false
          - name: passenger_airbag_online
            kind: enum
            value_start: 8
            value_length: 8
            mapping:
              0x09: true
              0xB: false
      - name: handbrake_status
        id: 0x320
        signals:
          - name: handbrake_engaged
            kind: enum
            value_start: 8
            value_length: 8
            mapping:
              0x00: false
              0x02: true
      - name: lock_status
        id: 0x591
        signals:
          - name: lock_state
            kind: enum
            value_start: 8
            value_length: 8
            mapping: # 8 seems to be the state when the car boots and is already open
              0x00: open
              0x01: car_switch_closed
              0x04: key_closed
              0x08: open
      - name: key_status
        id: 0x570
        signals:
          - name: key_state
            kind: enum
            value_start: 0
            value_length: 8
            mapping:
              0x00: "off"
              0x01: key_engaged
              0x87: contact_on
              0x8B: start_engine
      - name: abs_status
        id: 0x5A0
        frequency: 20
        signals:
          - name: speed
            unit: km/h
            value_start: 8
            value_length: 16
            scale: "0.0075"
  polo_comfort:
    bitrate: 100000
    received_frames:
      - name: key_status_confort
        id: 0x271
        signals:
          - name: key_state
            kind: enum
            value_start: 0
            value_length: 8
            mapping:
              0x00: "off"
              0x01: key_engaged
              0x87: contact_on
              0x8B: start_engine
  orion_bms:
    bitrate: 500000
    emitted_frames:
      - name: bms_requests
        id: 0x6C1
        frequency: 10
        signals:
          - name: ac_input_voltage
            value_start: 0
            value_length: 16
            kind: integer
          - name: counter
            kind: integer
            value_start: 16
            value_length: 8
    received_frames:
      - name: bms_status_1
        id: 0x6B0
        frequency: 8
        signals:
          - name: pack_current
            value_start: 0
            value_length: 16
            scale: "0.1"
            unit: A
          - name: pack_instant_voltage
            value_start: 16
            value_length: 16
            scale: "0.1"
            unit: V
          - name: discharge_relay_enabled
            value_start: 32
            value_length: 1
            kind: enum
            mapping:
              0x00: False
              0x01: True
          - name: charge_relay_enabled
            value_start: 33
            value_length: 1
            kind: enum
            mapping:
              0x00: False
              0x01: True
          - name: charger_safety_relay_enabled
            value_start: 34
            value_length: 1
            kind: enum
            mapping:
              0x00: False
              0x01: True
          - name: malfunction_relay_enabled
            value_start: 35
            value_length: 1
            kind: enum
            mapping:
              0x00: False
              0x01: True
          - name: multipurpose_input_1_enabled
            value_start: 36
            value_length: 1
            kind: enum
            mapping:
              0x00: False
              0x01: True
          - name: always_on_status_enabled
            value_start: 37
            value_length: 1
            kind: enum
            mapping:
              0x00: False
              0x01: True
          - name: is_ready_status_enabled
            value_start: 38
            value_length: 1
            kind: enum
            mapping:
              0x00: False
              0x01: True
          - name: is_charging_status_enabled
            value_start: 39
            value_length: 1
            kind: enum
            mapping:
              0x00: False
              0x01: True
          - name: multipurpose_input_2_enabled
            value_start: 40
            value_length: 1
            kind: enum
            mapping:
              0x00: False
              0x01: True
          - name: multipurpose_input_3_enabled
            value_start: 41
            value_length: 1
            kind: enum
            mapping:
              0x00: False
              0x01: True
          - name: multipurpose_output_2_enabled
            value_start: 43
            value_length: 1
            kind: enum
            mapping:
              0x00: False
              0x01: True
          - name: multipurpose_output_3_enabled
            value_start: 44
            value_length: 1
            kind: enum
            mapping:
              0x00: False
              0x01: True
          - name: multipurpose_output_4_enabled
            value_start: 45
            value_length: 1
            kind: enum
            mapping:
              0x00: False
              0x01: True
          - name: multipurpose_enable_status_enabled
            value_start: 46
            value_length: 1
            kind: enum
            mapping:
              0x00: False
              0x01: True
          - name: multipurpose_output_1_enabled
            value_start: 47
            value_length: 1
            kind: enum
            mapping:
              0x00: False
              0x01: True
          - name: charge_interlock_enabled
            value_start: 48
            value_length: 1
            kind: enum
            mapping:
              0x00: False
              0x01: True
          - name: current_failsafe_enabled
            value_start: 49
            value_length: 1
            kind: enum
            mapping:
              0x00: False
              0x01: True
          - name: voltage_failsafe_enabled
            value_start: 50
            value_length: 1
            kind: enum
            mapping:
              0x00: False
              0x01: True
          - name: input_power_supply_failsafe_enabled
            value_start: 51
            value_length: 1
            kind: enum
            mapping:
              0x00: False
              0x01: True
      - name: bms_status_2
        id: 0x6B1
        frequency: 8
        signals:
          - name: charge_current_limit
            value_start: 0
            value_length: 16
            unit: kW
          - name: discharge_current_limit
            value_start: 16
            value_length: 16
            unit: kW
